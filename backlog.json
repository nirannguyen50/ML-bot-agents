{
  "tasks": [
    {
      "id": 1,
      "title": "Download EURUSD market data",
      "description": "Download 3 months of EURUSD daily data using yfinance. Save as CSV in workspace/. Report row count and date range.",
      "assigned_to": "data_scientist",
      "status": "done",
      "priority": "critical",
      "depends_on": null,
      "created_at": "2026-02-11T08:51:59.092860",
      "completed_at": "2026-02-11T08:53:21.760145"
    },
    {
      "id": 2,
      "title": "Calculate technical indicators",
      "description": "Write a Python script (calculate_features.py) that reads the EURUSD CSV and calculates: SMA(20), SMA(50), RSI(14), MACD. Save results to eurusd_features.csv in workspace/.",
      "assigned_to": "data_scientist",
      "status": "done",
      "priority": "high",
      "depends_on": 1,
      "created_at": "2026-02-11T08:51:59.112009",
      "completed_at": "2026-02-11T08:55:50.239198"
    },
    {
      "id": 3,
      "title": "Design SMA crossover strategy",
      "description": "Write a trading strategy (strategy_sma_crossover.py) in workspace/: entry when SMA20 crosses above SMA50, exit when crosses below. Define position sizing (1% risk), stop loss (ATR-based), expected Sharpe ratio.",
      "assigned_to": "quant_analyst",
      "status": "done",
      "priority": "high",
      "depends_on": 2,
      "created_at": "2026-02-11T08:51:59.124899",
      "completed_at": "2026-02-11T08:56:20.073864"
    },
    {
      "id": 4,
      "title": "Write backtest engine",
      "description": "Write backtest_sma.py in workspace/ that reads eurusd_features.csv and tests the SMA crossover strategy. Output: total trades, win rate, profit factor, max drawdown.",
      "assigned_to": "engineer",
      "status": "done",
      "priority": "high",
      "depends_on": 3,
      "created_at": "2026-02-11T08:51:59.136356",
      "completed_at": "2026-02-11T09:00:24.576403"
    },
    {
      "id": 5,
      "title": "Create system health monitor",
      "description": "Write health_check.py in workspace/ that checks: disk space, memory usage, data freshness, log files count. Output a JSON report.",
      "assigned_to": "devops",
      "status": "done",
      "priority": "medium",
      "depends_on": null,
      "created_at": "2026-02-11T08:51:59.145483",
      "completed_at": "2026-02-11T08:55:25.287767"
    },
    {
      "id": 6,
      "title": "Backtest SMA strategy with historical data",
      "description": "Run the SMA crossover strategy through the backtest engine using the downloaded EURUSD data and calculated features. Generate performance metrics (returns, Sharpe ratio, max drawdown) and visualize equity curve.",
      "assigned_to": "quant_analyst",
      "status": "done",
      "priority": "high",
      "depends_on": [
        3,
        4
      ],
      "created_at": "2026-02-11T09:02:48.411883",
      "completed_at": "2026-02-11T09:04:54.536236"
    },
    {
      "id": 7,
      "title": "Optimize backtest engine for speed and memory",
      "description": "Profile the current backtest engine (backtest_sma.py) for bottlenecks. Implement vectorized operations using pandas/numpy and optimize data structures to improve execution speed and reduce memory usage.",
      "assigned_to": "engineer",
      "status": "done",
      "priority": "medium",
      "depends_on": [
        4
      ],
      "created_at": "2026-02-11T09:02:48.427699",
      "completed_at": "2026-02-11T09:07:19.014792"
    },
    {
      "id": 8,
      "title": "Add risk management module to strategy",
      "description": "Enhance the SMA crossover strategy by integrating stop-loss, take-profit, and position sizing rules. Implement a risk management class that calculates position size based on account balance and risk per trade (e.g., 1-2%).",
      "assigned_to": "quant_analyst",
      "status": "done",
      "priority": "high",
      "depends_on": [
        3
      ],
      "created_at": "2026-02-11T09:02:48.448587",
      "completed_at": "2026-02-11T09:15:23.540175"
    },
    {
      "id": 9,
      "title": "Create automated data validation pipeline",
      "description": "Build a script that automatically validates new market data downloads. Check for missing values, outliers, and data integrity. Generate a validation report and alert if issues are found.",
      "assigned_to": "data_scientist",
      "status": "done",
      "priority": "medium",
      "depends_on": [
        1
      ],
      "created_at": "2026-02-11T09:02:48.466856",
      "completed_at": "2026-02-11T09:04:23.677051"
    },
    {
      "id": 10,
      "title": "Set up basic CI/CD pipeline for code changes",
      "description": "Create a GitHub Actions workflow that runs automated tests (e.g., pytest) on pull requests to the main branch. Ensure the backtest engine and feature calculations pass basic unit tests before merging.",
      "assigned_to": "devops",
      "status": "in_progress",
      "priority": "medium",
      "depends_on": [
        5
      ],
      "created_at": "2026-02-11T09:02:48.482767",
      "completed_at": null
    },
    {
      "id": 11,
      "title": "Auto-Fix: backtest_sma.py",
      "description": "Fix issues found in code review of backtest_sma.py:\n**QUALITY SCORE: 5/10**\n\n**BUGS HOẶC ISSUES:**\n1. Hàm `_create_sample_data()` bị cắt đứt giữa chừng (thiếu phần kết thúc và gán vào `self.data`)\n2. Trong `load_data()`, khi tạo dữ liệu mẫu, không kiểm tra xem `self._create_sample_data()` có thành công không\n3. Thiếu xử lý khi dữ liệu không có cột 'Close' (cần cho tính SMA)\n4. Không có validation cho `fast_period` và `slow_period` (fast_period phải < slow_period)\n\n**GỢI Ý CẢI THIỆN:**\n1. Hoàn thiện hàm `_create_sample_data()` với DataFrame đầy đủ",
      "assigned_to": "engineer",
      "status": "todo",
      "priority": 2,
      "depends_on": null,
      "created_at": "2026-02-11T09:17:24.552420",
      "completed_at": null
    },
    {
      "id": 12,
      "title": "Auto-Fix: calculate_features.py",
      "description": "Fix issues found in code review of calculate_features.py:\n**1. ĐIỂM CHẤT LƯỢNG: 6/10**\n\n**2. LỖI HOẶC VẤN ĐỀ:**\n- **Lỗi cú pháp**: Hàm `calculate_features` bị thiếu dấu ngoặc đóng `)` ở dòng cuối (`df.to_csv(output_file, ind`).\n- **Xử lý giá trị NaN**: Các chỉ báo kỹ thuật (RSI, MACD) tạo ra giá trị NaN trong giai đoạn đầu (do cửa sổ tính toán), nhưng không được xử lý, có thể gây lỗi khi sử dụng sau này.\n- **Xử lý lỗi thiếu cột**: Không kiểm tra xem các cột bắt buộc như `'Close'`, `'Date'` có tồn tại trong file CSV đầu vào không.\n- **Hiệu suất**: Sắp x",
      "assigned_to": "engineer",
      "status": "todo",
      "priority": 2,
      "depends_on": null,
      "created_at": "2026-02-11T09:17:43.618520",
      "completed_at": null
    },
    {
      "id": 13,
      "title": "Auto-Fix: calculate_features_optimized.py",
      "description": "Fix issues found in code review of calculate_features_optimized.py:\n**1. QUALITY SCORE: 6/10**  \nCode có cấu trúc tương đối rõ ràng, sử dụng logging, xử lý missing values, nhưng còn thiếu hoàn chỉnh (hàm MACD bị cắt đột ngột) và có một số vấn đề cần cải thiện.\n\n**2. BUGS hoặc ISSUES:**  \n- Hàm `calculate_macd_optimized` bị thiếu code (chỉ có `exp2 = d` và không hoàn thành).\n- Trong `calculate_rsi_optimized`, nếu `avg_loss = 0` sẽ gây lỗi chia cho 0 khi tính `rs`.\n- `setup_data_quality_checks` giả định các cột `Open`, `High`, `Low`, `Close` luôn tồn tại, có thể g",
      "assigned_to": "engineer",
      "status": "todo",
      "priority": 2,
      "depends_on": null,
      "created_at": "2026-02-11T09:18:29.356369",
      "completed_at": null
    },
    {
      "id": 14,
      "title": "Auto-Fix: calculate_sma.py",
      "description": "Fix issues found in code review of calculate_sma.py:\n**CHẤT LƯỢNG CODE: 2/10**\n\n**LỖI/ VẤN ĐỀ:**\n1. Hàm chỉ có khai báo mà không có thân hàm\n2. Thiếu xử lý dữ liệu đầu vào (data validation)\n3. Không có xử lý ngoại lệ (exception handling)\n4. Thiếu docstring và type hints\n\n**ĐỀ XUẤT CẢI THIỆN:**\n1. Hoàn thiện logic tính SMA\n2. Thêm validation cho window size và data length\n3. Thêm docstring mô tả hàm\n4. Sử dụng type hints\n5. Xử lý trường hợp dữ liệu không đủ độ dài\n\n**VẤN ĐỀ BẢO MẬT:**\n1. Không có kiểm tra đầu vào - có thể gây lỗi nếu data không phả",
      "assigned_to": "engineer",
      "status": "todo",
      "priority": 2,
      "depends_on": null,
      "created_at": "2026-02-11T09:18:48.060383",
      "completed_at": null
    },
    {
      "id": 15,
      "title": "Auto-Fix: health_check.py",
      "description": "Fix issues found in code review of health_check.py:\n**ĐÁNH GIÁ MÃ NGUỒN: health_check.py**\n\n---\n\n**1. ĐIỂM CHẤT LƯỢNG: 6/10**  \n- Cấu trúc rõ ràng, có docstring và type hints.  \n- Xử lý lỗi cơ bản (try-except).  \n- **Trừ điểm vì mã chưa hoàn chỉnh** (thiếu phần thân hàm `check_data_freshness` và các phương thức khác).\n\n---\n\n**2. LỖI/ VẤN ĐỀ:**  \n- **Lỗi cú pháp**: Hàm `check_data_freshness()` thiếu phần thân (chỉ có `try:` và thiếu `return`).  \n- **Lỗi logic**:  \n  - Không kiểm tra sự tồn tại của `logs_dir`, `workspace_dir` trước khi sử dụng.  \n ",
      "assigned_to": "engineer",
      "status": "todo",
      "priority": 2,
      "depends_on": null,
      "created_at": "2026-02-11T09:19:11.094655",
      "completed_at": null
    }
  ],
  "next_id": 16
}